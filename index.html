<!doctype html>
<html>
<head> 
    <title>WYSIWYG Editor</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<style>
div.wEditor {
    padding:5px;height:120px;width:500px;margin:10px auto;
    overflow-y:scroll;border:1px solid #DBDBDB;
    font:12px/1.5 gulim;
}
div.wEditor p {margin:0;padding:0;}
</style>

<div id="editorExam1" class="wEditor" contenteditable="true">
</div>

<div style="width:500px;margin:0 auto;">
    <button id="bold">두껍게</button> 
    <button id="italic">이탤릭</button> 
    <button id="html">html 넣기</button> 
    <button id="print">출력 </button>
</div>

<script>
(function() {
    var  $ = new Function("a","return document.getElementById(a)");
    var _editor = $("editorExam1");

    // 버튼 클릭 이벤트 추가
    $('bold').onclick = function() {
        _editor.focus();
        document.execCommand("Bold");
    
    };
    $('italic').onclick = function() {
        _editor.focus();
        document.execCommand("Italic");
    };
    $('html').onclick = function() {
        var html = prompt("html 태그 넣기", '<img src="http://main.nateimg.co.kr/img/cms/content_pool/2011/07/normal_bi.gif"/>');
        _editor.focus();
        if (document.all) {
            var range = document.selection.createRange();
            range.pasteHTML(html)
        } else document.execCommand('insertHTML', false, html);
    };
    $('print').onclick = function() {
        var html = _editor.innerHTML;
        alert(html);    
    };
})();



    document.querySelectorAll('.options button').forEach(item => item.addEventListener('click', function () {
    const command = item.dataset.command;
    if (command === 'h1' || command === 'h2' || command === 'h3' || command === 'p') {
        document.execCommand('formatBlock', false, command);
    } else {
        document.execCommand(command); //data-command에서 이름을 맞춰주었기 때문에 '명령코드'에 command 이름이 들어가서 바로 적용이 된다. 추가로 변수가 필요하지 않기 때문에 명령어만 보냄
    }
}));
</script>
    <button type="button" data-command="h1"></button>
</bodY>
</html>
